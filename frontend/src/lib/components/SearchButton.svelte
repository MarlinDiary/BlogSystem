<!-- SearchButton.svelte -->
<script>
  import { onMount } from 'svelte';
  import '../styles/icon.css';
  import SearchModal from './SearchModal.svelte';
  
  let mounted = false;
  let isSearchOpen = false;
  
  onMount(() => {
    mounted = true;
  });

  function openSearch() {
    isSearchOpen = true;
  }

  function closeSearch() {
    isSearchOpen = false;
  }
</script>

{#if mounted}
  <button
    type="button"
    aria-label="搜索"
    class="group h-10 rounded-full bg-white/90 px-3 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur transition dark:bg-zinc-800/90 dark:ring-white/10 dark:hover:ring-white/20"
    on:click={openSearch}
  >
    <svg class="h-6 w-6 stroke-zinc-500 transition group-hover:stroke-zinc-700 dark:group-hover:stroke-zinc-200" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
    </svg>
  </button>
{/if}

<SearchModal isOpen={isSearchOpen} on:close={closeSearch} /> 